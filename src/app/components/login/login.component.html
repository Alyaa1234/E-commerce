<div class="w-75 mx-auto p-4">
  <form (ngSubmit)="handleLogin()" [formGroup]="loginFormObj">

    @if(responseErrorMessage != "")
    {
      <div class="alert alert-danger text-center">{{responseErrorMessage }}</div>
    }

    <label class="mt-3" for="email">Email <span class="text-danger">*</span></label>
    <input formControlName="email" class="form-control" type="email" id="email" >
    @let emailControl = loginFormObj.get('email');
    @if(emailControl?.touched)
    {
      <div>
        @if(emailControl?.getError('required'))
        {
          <p class="text-small mt-0 text-danger">Email is Required</p>
        }
        @else if(emailControl?.getError('email'))
        {
          <p class="text-small mt-0 text-danger">Please Enter a vaild Email</p>
        }
      </div>
    }

    <label class="mt-3" for="password">Password <span class="text-danger">*</span></label>
    <input formControlName="password" class="form-control" type="password" id="password" >
    @let passwordControl = loginFormObj.get('password');
    @if(passwordControl?.touched){
      <div>
        @if(passwordControl?.getError('required')){
          <p class="text-small mt-0 text-danger">Password is Required</p>
        }
        @else if(passwordControl?.getError('pattern')){
          <p class="text-small mt-0 text-danger">Please Enter a valid Password (at least 6 characters long, must contain at least one letter and one number)</p>
        }
      </div>
    }

    <div class="d-flex justify-content-between align-items-baseline">
      <a [routerLink]="['/forget-password']" class="me-4 text-secondary text-decoration-underline">Forget Password ?</a>
      <button [disabled]="loginFormObj.invalid || isLoading" class="btn bg-main text-light mt-4">
        @if(!isLoading){
         <span>Login</span>
        }
        @if(isLoading){
         <span class="fa-solid fa-spinner fa-spin"></span>
        }
      </button>
    </div>
  </form>
</div>

