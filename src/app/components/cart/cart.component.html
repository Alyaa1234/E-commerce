@if(cartDetails != null)
{
  @if(cartDetails.numOfCartItems > 0){
  <div class="container bg-main-light p-5 rounded shadow">
    <h4 class="my-3 fw-medium">Shop Cart</h4>
    <p class="text-main fw-medium font-sm border-bottom py-4">Total Cart Price: {{cartDetails.data.totalCartPrice}} EGP
    </p>

    @for(cartProduct of cartDetails.data.products; track cartProduct._id)
    {
    <div class="row border-bottom py-3 align-items-center">
      <div class="col-md-2">
        <div>
          <img [src]="cartProduct.product.imageCover" [alt]="cartProduct.product.title"
            class="w-100 img-thumbnail border rounded">
        </div>
      </div>
      <div class="col-md-10 d-flex justify-content-between">
        <div>
          <p class="my-1 fw-medium font-sm">{{cartProduct.product.title}}</p>
          <p class="text-main fw-medium">Price: {{cartProduct.price}} EGP</p>
          <button (click)="deleteCartItem(cartProduct.product._id)" class="delete btn border rouded border-danger">
            <i class="fa-solid fa-trash-can text-danger me-2"></i>
            <span class="text-danger fw-bold">Remove</span>
          </button>
        </div>
        <div>
          <button (click)="updateProductQuantity(cartProduct.product._id, cartProduct.count - 1)"
            class="btn border rounded">-</button>
          <span class="mx-2">{{cartProduct.count}}</span>
          <button (click)="updateProductQuantity(cartProduct.product._id, cartProduct.count + 1)"
            class="btn border rounded">+</button>
        </div>
      </div>
    </div>
    }
    <div class="d-flex justify-content-between">
      <div class="mt-3">
        <button [routerLink]="['/shipping-address', cartDetails.cartId , 'card']" class="btn bg-main text-white me-3">Online Payment</button>
        <button [routerLink]="['/shipping-address', cartDetails.cartId , 'cash']" class="btn bg-main text-white">Cash Payment</button>
      </div>
      <button (click)="clearCart()" class="btn btn-danger mt-3 ">
        Clear All Your Cart
        <i class="fa-solid fa-trash-can"></i>
      </button>
    </div>


  </div>
  }
  @else {
  <div class="container bg-main-light p-5 rounded shadow">
    <h2 class="text-center" >No Data Found </h2>
  </div>
  }
}
